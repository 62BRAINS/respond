{"version":3,"sources":["users/users.component.ts"],"names":[],"mappings":"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","file":"public/src/users/users.component.js","sourcesContent":["import {Component} from '@angular/core';\nimport {tokenNotExpired} from 'angular2-jwt/angular2-jwt';\nimport {RouteConfig, Router, ROUTER_DIRECTIVES, ROUTER_PROVIDERS, CanActivate} from '@angular/router-deprecated';\nimport {TranslatePipe} from 'ng2-translate/ng2-translate';\nimport {UserService} from './app/shared/services/user.service';\nimport {AddUserComponent} from './app/shared/components/users/add-user/add-user.component';\nimport {EditUserComponent} from './app/shared/components/users/edit-user/edit-user.component';\nimport {RemoveUserComponent} from './app/shared/components/users/remove-user/remove-user.component';\nimport {DrawerComponent} from './app/shared/components/drawer/drawer.component';\n\n@Component({\n    selector: 'respond-users',\n    templateUrl: './app/users/users.component.html',\n    providers: [UserService],\n    directives: [AddUserComponent, EditUserComponent, RemoveUserComponent, DrawerComponent],\n    pipes: [TranslatePipe]\n})\n\n@CanActivate(() => tokenNotExpired())\n\nexport class UsersComponent {\n\n  user;\n  users;\n  errorMessage;\n  selectedUser;\n  id;\n  addVisible: boolean;\n  editVisible: boolean;\n  removeVisible: boolean;\n  drawerVisible: boolean;\n\n  constructor (private _userService: UserService, private _router: Router) {}\n\n  /**\n   * Init\n   *\n   */\n  ngOnInit() {\n\n    this.id = localStorage.getItem('respond.siteId');\n    this.addVisible = false;\n    this.editVisible = false;\n    this.removeVisible = false;\n    this.drawerVisible = false;\n    this.user = {};\n    this.users = [];\n\n    this.list();\n\n  }\n\n  /**\n   * Updates the list\n   */\n  list() {\n\n    this.reset();\n    this._userService.list()\n                     .subscribe(\n                       data => { this.users = data; },\n                       error =>  { this.failure(<any>error); }\n                      );\n  }\n\n  /**\n   * Resets an modal booleans\n   */\n  reset() {\n    this.addVisible = false;\n    this.editVisible = false;\n    this.removeVisible = false;\n    this.drawerVisible = false;\n    this.user = {};\n  }\n\n  /**\n   * Sets the list item to active\n   *\n   * @param {User} user\n   */\n  setActive(user) {\n    this.selectedUser = user;\n  }\n\n  /**\n   * Shows the drawer\n   */\n  toggleDrawer() {\n    this.drawerVisible = !this.drawerVisible;\n  }\n\n  /**\n   * Shows the add dialog\n   */\n  showAdd() {\n    this.addVisible = true;\n  }\n\n  /**\n   * Shows the remove dialog\n   *\n   * @param {User} user\n   */\n  showRemove(user) {\n    this.removeVisible = true;\n    this.user = user;\n  }\n\n  /**\n   * Shows the edit dialog\n   *\n   * @param {User} user\n   */\n  showEdit(user) {\n    this.editVisible = true;\n    this.user = user;\n  }\n\n  /**\n   * handles error\n   */\n  failure (obj) {\n\n    toast.show('failure');\n\n    if(obj.status == 401) {\n      this._router.navigate( ['Login', {id: this.id}] );\n    }\n\n  }\n\n}"],"sourceRoot":"/source/"}